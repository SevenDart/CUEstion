<div class="page-container">
  <ng-container *ngIf="(question | async) as question; else loading">
    <h1 class="page__header">Update Question</h1>
    <form [formGroup]="questionForm" (ngSubmit)="updateQuestion()">
      <h1 class="question__header">{{question.header}}</h1>
      <a class="fas fa-times delete-icon"
         (click)="deleteQuestion(question.id)"
         matTooltip="Press cross if you want to delete this question."
         matTooltipPosition="below"></a>
      <p class="text">{{question.text}}</p>
      <mat-form-field appearance="outline" class="field">
        <mat-label>Update description</mat-label>
        <p matPrefix class="text prefix">[UPD.]&nbsp;</p>
        <textarea
          matInput
          cdkTextareaAutosize
          cdkAutosizeMinRows="10"
          formControlName="description"
          class="text description">
        </textarea>
        <mat-error *ngIf="!questionForm.get('description').valid && questionForm.get('description').touched">
          Description can't be longer than 3000 symbols.
        </mat-error>
      </mat-form-field>
      <tag-select [selectedTags]="selectedTags"></tag-select>
      <button mat-raised-button
              type="submit"
              [color]="'primary'"
              class="create-button"
              [disabled]="!questionForm.valid">UPDATE</button>
    </form>
  </ng-container>
</div>
<ng-template #loading><mat-spinner class="loading"></mat-spinner></ng-template>
